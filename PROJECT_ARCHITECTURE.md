# 项目“人话版”说明书

你说得对！技术名词太枯燥了。这份代码是专门为了让你“一眼看懂”而设计的。

## 1. 核心流程图 (复制到 Draw.io)

请把下面这段代码复制到 Draw.io 的 **`调整图形 -> 插入 -> 高级 -> Mermaid`** 里。

```mermaid
graph TD
    %% === 角色定义 ===
    sim[仿真世界<br/>(simulator.py)]
    car[我的小车<br/>(agent.py)]
    brain[超级大脑<br/>(planner.py)]
    
    %% === 大脑内部 ===
    subgraph Mind [大脑在想什么？]
        direction TB
        guess[直觉猜想<br/>(scenario_tree)]
        eyes[鬼探头探测<br/>(utils.py)]
        calc[精细计算<br/>(trajectory_tree)]
        brake[保命护盾<br/>(AEB)]
        
        %% 连线
        brain -->|1. 先看一眼| eyes
        brain -->|2. 猜猜别人怎么走| guess
        eyes -->|发现危险了！| calc
        guess -->|把想法传过去| calc
        calc -->|算出最佳路线| brake
    end

    %% === 外部循环 ===
    sim -->|这是你看到的路况| car
    car -->|报告状态| brain
    brake -->|最终决定：油门/方向盘| sim

    %% === 样式美化 ===
    style sim fill:#f9f9f9,stroke:#333,stroke-width:2px
    style car fill:#d5e8d4,stroke:#82b366
    style brain fill:#dae8fc,stroke:#6c8ebf
    style brake fill:#f8cecc,stroke:#b85450,stroke-width:2px
```

---

## 2. 也是“人话”的文件解释

### 🌍 `simulator.py` —— 这里的“上帝”
这就好比 **那个让世界运转的人**。他决定了：
*   现在几点了？
*   如果你的车和别人的车撞在一起，就算“车祸”。
*   他负责把最后的结果画成视频给你看。

### 🚗 `agent.py` —— 你的“车架子”
这就好比 **你的身体**。
*   它长满了传感器（雷达、摄像头），用来接收“上帝”发来的画面。
*   但是它自己没有脑子，遇到事情它得赶紧打电话问下面的“超级大脑”。

### 🧠 `planner.py` —— 真正的“大脑指挥官”
这就是 **你请的那个老司机**。
*   他坐在驾驶座上，但他不自己算细账，他负责指挥下面三个小弟干活。

### 👀 `utils.py` (里的鬼探头功能) —— “火眼金睛”
*   这是大脑的 **眼睛**，或者说第六感。
*   它的工作很简单：**“那个公交车后面是不是藏着人？”**
*   如果它觉得有人，就会大喊一声：“有鬼探头风险！”，然后把信号发给负责计算的小弟。

### 🔮 `scenario_tree.py` —— “直觉大师”
*   这个小弟负责 **猜**。
*   他不管车怎么开平稳，他只管大方向：**“我觉得前面那辆车大概率要直行，小概率会左转。”**
*   他画出来的不是一条线，而是一棵树（为了防备各种情况）。

### 📐 `trajectory_tree.py` —— “做题家”
*   这个小弟负责 **算** (数学最好的)。
*   他拿着“直觉大师”给的方向，和“火眼金睛”给的危险警告，开始狂按计算器。
*   **“为了避开那个可能冲出来的人，方向盘要打 15 度，油门只能踩 20%。”** —— 这就是他算出来的结果。

### 🛡️ AEB (在 `planner.py` 里) —— “最后一道防线”
*   这就是 **保命符**。
*   不管上面算得怎么样，只要发现 **1秒之后会撞车**，它就会一脚把刹车踩死。哪怕之前的计划再完美，都没命重要。
